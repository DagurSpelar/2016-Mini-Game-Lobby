<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>2016 Mini Game Lobby ‚Äî Play Closes Site</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #e5e5e5;
    margin: 0;
    padding: 0;
  }

  .game-page {
    max-width: 1200px;
    margin: 0 auto;
    background: white;
    border-radius: 6px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    overflow: hidden;
  }

  .header { display:flex; padding:20px; border-bottom:1px solid #ddd; }
  .thumbnail { width:65%; height:400px; background:url('https://i.ytimg.com/vi/8-8cpWnW-ss/maxresdefault.jpg') center/cover no-repeat; border-radius:4px; }
  .side-info { flex:1; padding:0 25px; display:flex; flex-direction:column; justify-content:space-between; align-items:center; }
  .game-title { font-size:30px; margin-bottom:5px; text-align:center; }
  .creator { color:#0073e6; margin-bottom:20px; font-size:14px; text-align:center; }

  .play-btn {
    display:block; width:280px; background:#00c000; color:#fff; font-size:20px; font-weight:bold; padding:16px 0; text-align:center; border:none; border-radius:8px; cursor:pointer; text-decoration:none; box-shadow:0 3px 6px rgba(0,0,0,0.2);
  }
  .play-btn:hover { background:#00a000; }
  .ratings { margin-top:12px; font-size:13px; color:#888; text-align:center; }

  .tabs { display:flex; border-bottom:2px solid #ddd; margin-top:10px; }
  .tab { flex:1; text-align:center; padding:14px; cursor:pointer; font-weight:bold; border-bottom:3px solid transparent; }
  .tab.active { border-color:#0073e6; color:#0073e6; }
  .tab-content { padding:25px; }
  .description-box { background:#f8f8f8; padding:18px; border-radius:4px; font-size:15px; }

  /* Overlay shown if browser blocked auto-close */
  .close-overlay {
    position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(0,0,0,0.6); z-index:9999;
  }
  .close-card { background:#fff; padding:22px; border-radius:10px; max-width:420px; text-align:center; box-shadow:0 6px 24px rgba(0,0,0,0.3); }
  .close-card h2 { margin:0 0 10px; }
  .close-card p { color:#333; margin:8px 0 16px; }
  .close-card .btn { display:inline-block; padding:10px 16px; border-radius:8px; text-decoration:none; font-weight:bold; background:#0073e6; color:#fff; cursor:pointer; }
</style>
</head>
<body>

<div class="game-page">
  <div class="header">
    <div class="thumbnail"></div>
    <div class="side-info">
      <div>
        <h1 class="game-title">2016 Mini Game Lobby</h1>
        <p class="creator">By <a href="#">Minecraft</a></p>
      </div>
      <div>
        <a href="#" id="playBtn" class="play-btn">Play</a>
        <p class="ratings">Note: This Map Is For 1.8.8</p>
      </div>
    </div>
  </div>

  <div class="tabs">
    <div class="tab active">About</div>
    <div class="tab">Store</div>
    <div class="tab">Servers</div>
  </div>

  <div class="tab-content">
    <h3>Description</h3>
    <div class="description-box">üèÜ Step back in time with this nostalgic lobby. Download the map and enjoy classic mini-games!</div>
  </div>
</div>

<!-- Overlay shown if browser prevents window.close() -->
<div id="closeOverlay" class="close-overlay">
  <div class="close-card">
    <h2>Almost there‚Ä¶</h2>
    <p>Your download opened in a new window. This page couldn't be closed automatically by your browser.</p>
    <div>
      <a id="manualClose" class="btn">Close this page</a>
    </div>
  </div>
</div>

<script>
(function(){
  const playBtn = document.getElementById('playBtn');
  const overlay = document.getElementById('closeOverlay');
  const manualClose = document.getElementById('manualClose');

  // URL you want to open for the download
  const downloadUrl = 'https://getmcnet.github.io/2016-Minigame-Downloand/';

  function tryCloseWindow() {
    // Various attempts to close the current window/tab. Many browsers only allow closing
    // windows that were opened by script, so this may be blocked. We attempt several
    // techniques and then show an overlay instructing the user to close manually.

    // 1) Direct close
    try { window.close(); } catch(e) {}

    // 2) Replace and close (sometimes helps)
    try {
      window.open('','_self');
      window.close();
    } catch(e) {}

    // 3) Navigate to about:blank then try to close after a short delay
    try {
      setTimeout(() => {
        // If still not closed, show overlay
        overlay.style.display = 'flex';
      }, 500);
    } catch(e){ overlay.style.display = 'flex'; }
  }

  playBtn.addEventListener('click', function(evt){
    evt.preventDefault();

    // Open the download page in a new popup/tab (user gesture allows popups)
    const popup = window.open(downloadUrl, '_blank', 'width=1000,height=700,scrollbars=yes,resizable=yes');

    // Give the new window a brief moment to open, then try to close this one.
    // Note: Most browsers will block window.close() for tabs not opened by script.
    // If the close is blocked, we fall back to showing an overlay with a manual close button.
    setTimeout(tryCloseWindow, 150);
  });

  manualClose.addEventListener('click', function(){
    try { window.close(); } catch(e) { /* if still blocked, navigate away so user can close */ window.location.href = 'about:blank'; }
  });

  // Basic tab switching (kept from original)
  const tabs = document.querySelectorAll('.tab');
  const content = document.querySelector('.tab-content');
  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      tabs.forEach(t => t.classList.remove('active'));
      tab.classList.add('active');
      if (tab.textContent === 'About') {
        content.innerHTML = `\n          <h3>Description</h3>\n          <div class="description-box">üèÜ Step back in time with this nostalgic lobby. Download the map and enjoy classic mini-games!</div>`;
      } else if (tab.textContent === 'Store') {
        content.innerHTML = '<p>Store coming soon...</p>';
      } else if (tab.textContent === 'Servers') {
        content.innerHTML = '<p>Server list coming soon...</p>';
      }
    });
  });
})();
</script>

</body>
</html>